<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>POB Library: i2c.h File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.1-p1 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
    <li id="current"><a href="files.html"><span>Files</span></a></li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="files.html"><span>File&nbsp;List</span></a></li>
    <li><a href="globals.html"><span>Globals</span></a></li>
  </ul></div>
<h1>i2c.h File Reference</h1>I2C Communication. <a href="#_details">More...</a>
<p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="i2c_8h.html#dfa0a56b08e1b36bd8bc3ae554bf4624">InitI2C</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initalize I2C bus.  <a href="#dfa0a56b08e1b36bd8bc3ae554bf4624"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="i2c_8h.html#06b3034eaa9335e4489302091a2d750f">SetI2cSpeed</a> (UInt32 speed)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set the speed of the i2c bus.  <a href="#06b3034eaa9335e4489302091a2d750f"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="i2c_8h.html#844a6fca7494ea07c516dad9fb50ba5f">SendSlaveAdress</a> (UInt8 Addr_S)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Send slave adress through the bus.  <a href="#844a6fca7494ea07c516dad9fb50ba5f"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">UInt8&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="i2c_8h.html#c418217216c27c13c8573292ed659140">ReadOnI2C</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Read a byte from a slave device.  <a href="#c418217216c27c13c8573292ed659140"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">UInt8&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="i2c_8h.html#31cc2fe3b86cbcdfb015ffc287f6f300">ReadOnI2CWithAck</a> (UInt8 ack)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Read a byte from a slave device.  <a href="#31cc2fe3b86cbcdfb015ffc287f6f300"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="i2c_8h.html#22ab2866b9bd0ac60cd05122afc36b24">WriteOnI2C</a> (UInt8 Byte)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Write a byte on the I2C bus to the slave device.  <a href="#22ab2866b9bd0ac60cd05122afc36b24"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="i2c_8h.html#0d1408f25c04297053e117021ba730ee">STOPI2C</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Stop I2C communication.  <a href="#0d1408f25c04297053e117021ba730ee"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="i2c_8h.html#251b71642200bbb35056135d48293d42">InitI2CSlave</a> (UInt8 addr)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initialize POB-EYE I2C bus as Slave device.  <a href="#251b71642200bbb35056135d48293d42"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="i2c_8h.html#d0f7a5c3fb927d2499225527eb5b84e1">SetI2CSlaveSpeed</a> (UInt32 speed)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set the speed of the I2C bus.  <a href="#d0f7a5c3fb927d2499225527eb5b84e1"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">UInt8&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="i2c_8h.html#711997ecc4edaee025f55720106f3c3b">ReadOnI2CSlave</a> (UInt8 *Data, UInt8 endOfRead)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Read data on I2C bus from a master device.  <a href="#711997ecc4edaee025f55720106f3c3b"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">UInt8&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="i2c_8h.html#de86d3047f6f781e855df8398b9d1890">WriteOnI2CSlave</a> (UInt8 Data, UInt8 endOfWrite)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Write a byte on I2C bus to the master device.  <a href="#de86d3047f6f781e855df8398b9d1890"></a><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
I2C Communication. 
<p>
Communication with the I2C bus as Master mode.<p>
<dl class="author" compact><dt><b>Author:</b></dt><dd>Pierre SEGUIN. POB-Technology </dd></dl>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="dfa0a56b08e1b36bd8bc3ae554bf4624"></a><!-- doxytag: member="i2c.h::InitI2C" ref="dfa0a56b08e1b36bd8bc3ae554bf4624" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void InitI2C           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Initalize I2C bus. 
<p>
The bus speed is at speed 128 Kbits/s 
</div>
</div><p>
<a class="anchor" name="251b71642200bbb35056135d48293d42"></a><!-- doxytag: member="i2c.h::InitI2CSlave" ref="251b71642200bbb35056135d48293d42" args="(UInt8 addr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void InitI2CSlave           </td>
          <td>(</td>
          <td class="paramtype">UInt8&nbsp;</td>
          <td class="paramname"> <em>addr</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Initialize POB-EYE I2C bus as Slave device. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>addr</em>&nbsp;</td><td>: address of the slave device on the bus. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="c418217216c27c13c8573292ed659140"></a><!-- doxytag: member="i2c.h::ReadOnI2C" ref="c418217216c27c13c8573292ed659140" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UInt8 ReadOnI2C           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Read a byte from a slave device. 
<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>byte from the slave device. </dd></dl>

</div>
</div><p>
<a class="anchor" name="711997ecc4edaee025f55720106f3c3b"></a><!-- doxytag: member="i2c.h::ReadOnI2CSlave" ref="711997ecc4edaee025f55720106f3c3b" args="(UInt8 *Data, UInt8 endOfRead)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UInt8 ReadOnI2CSlave           </td>
          <td>(</td>
          <td class="paramtype">UInt8 *&nbsp;</td>
          <td class="paramname"> <em>Data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UInt8&nbsp;</td>
          <td class="paramname"> <em>endOfRead</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Read data on I2C bus from a master device. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>Data</em>&nbsp;</td><td>: pointer to store the byte read. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>endOfRead</em>&nbsp;</td><td></td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>1 if a data is read, else 0 (I2C bus is not in slave receiver mode). </dd></dl>

</div>
</div><p>
<a class="anchor" name="31cc2fe3b86cbcdfb015ffc287f6f300"></a><!-- doxytag: member="i2c.h::ReadOnI2CWithAck" ref="31cc2fe3b86cbcdfb015ffc287f6f300" args="(UInt8 ack)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UInt8 ReadOnI2CWithAck           </td>
          <td>(</td>
          <td class="paramtype">UInt8&nbsp;</td>
          <td class="paramname"> <em>ack</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Read a byte from a slave device. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ack</em>&nbsp;</td><td>: set to 0 to acknowledge the data (master will send others data), set to to 'not acknowledge' (end of transmission). </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="844a6fca7494ea07c516dad9fb50ba5f"></a><!-- doxytag: member="i2c.h::SendSlaveAdress" ref="844a6fca7494ea07c516dad9fb50ba5f" args="(UInt8 Addr_S)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SendSlaveAdress           </td>
          <td>(</td>
          <td class="paramtype">UInt8&nbsp;</td>
          <td class="paramname"> <em>Addr_S</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Send slave adress through the bus. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Addr_S</em>&nbsp;</td><td>: address of the slave device on the bus. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="d0f7a5c3fb927d2499225527eb5b84e1"></a><!-- doxytag: member="i2c.h::SetI2CSlaveSpeed" ref="d0f7a5c3fb927d2499225527eb5b84e1" args="(UInt32 speed)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SetI2CSlaveSpeed           </td>
          <td>(</td>
          <td class="paramtype">UInt32&nbsp;</td>
          <td class="paramname"> <em>speed</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Set the speed of the I2C bus. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>speed</em>&nbsp;</td><td>: the bus speed in KHz. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="06b3034eaa9335e4489302091a2d750f"></a><!-- doxytag: member="i2c.h::SetI2cSpeed" ref="06b3034eaa9335e4489302091a2d750f" args="(UInt32 speed)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SetI2cSpeed           </td>
          <td>(</td>
          <td class="paramtype">UInt32&nbsp;</td>
          <td class="paramname"> <em>speed</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Set the speed of the i2c bus. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>speed</em>&nbsp;</td><td>: the bus speed in KHz (maximum is 375 KHz) </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="0d1408f25c04297053e117021ba730ee"></a><!-- doxytag: member="i2c.h::STOPI2C" ref="0d1408f25c04297053e117021ba730ee" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void STOPI2C           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Stop I2C communication. 
<p>

</div>
</div><p>
<a class="anchor" name="22ab2866b9bd0ac60cd05122afc36b24"></a><!-- doxytag: member="i2c.h::WriteOnI2C" ref="22ab2866b9bd0ac60cd05122afc36b24" args="(UInt8 Byte)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void WriteOnI2C           </td>
          <td>(</td>
          <td class="paramtype">UInt8&nbsp;</td>
          <td class="paramname"> <em>Byte</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Write a byte on the I2C bus to the slave device. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Byte</em>&nbsp;</td><td>: Byte that will be sent through the I2C bus to the slave device </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="de86d3047f6f781e855df8398b9d1890"></a><!-- doxytag: member="i2c.h::WriteOnI2CSlave" ref="de86d3047f6f781e855df8398b9d1890" args="(UInt8 Data, UInt8 endOfWrite)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UInt8 WriteOnI2CSlave           </td>
          <td>(</td>
          <td class="paramtype">UInt8&nbsp;</td>
          <td class="paramname"> <em>Data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UInt8&nbsp;</td>
          <td class="paramname"> <em>endOfWrite</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Write a byte on I2C bus to the master device. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Data</em>&nbsp;</td><td>: byte send to the master device. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>endOfWrite</em>&nbsp;</td><td></td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>1 if a byte is send, else 0 (I2C bus is not in slave transmitter mode). </dd></dl>

</div>
</div><p>
<!-- 
	Author : Baptiste Burles. POB-Technology
	Date : 10/10/2005
	
	This is the html footer for the Doxygen doc.
	
-->
<html>

<p>

<center>
	<hr size="1"><address style="align: right;"><small>Generated by&nbsp;
	<a href="http://www.doxygen.org/index.html">
	<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> </small></address>
	
	
	<address style="align: right;"><small>
	This is a documentation from 
	<a href="http://www.pob-technology.com">
	<img src="LOGO_POB.JPG" align="middle" border="0"></a> All rights reserved.
	</small></address>
	
</center>

</html>
