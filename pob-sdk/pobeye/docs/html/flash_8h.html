<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>POB Library: flash.h File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.1-p1 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
    <li id="current"><a href="files.html"><span>Files</span></a></li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="files.html"><span>File&nbsp;List</span></a></li>
    <li><a href="globals.html"><span>Globals</span></a></li>
  </ul></div>
<h1>flash.h File Reference</h1>Access POB-EYE flash memory. <a href="#_details">More...</a>
<p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="flash_8h.html#ae24153beabe70cd78831db27782a339">FlashInit</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Init flash function.  <a href="#ae24153beabe70cd78831db27782a339"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="flash_8h.html#bb983c1f72528b9346dbf6141732d6a6">FlashErase</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Erase flash sector.  <a href="#bb983c1f72528b9346dbf6141732d6a6"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="flash_8h.html#824dacdee5919d93f47690d74c60e477">FlashWrite</a> (unsigned int sector_number, unsigned char *ptr, int len)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Write data on flash.  <a href="#824dacdee5919d93f47690d74c60e477"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="flash_8h.html#42aafe1b58b112f582db67796906e439">FlashRead</a> (unsigned int sector_number, unsigned int offset, unsigned char *data, int len)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Read data on flash.  <a href="#42aafe1b58b112f582db67796906e439"></a><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Access POB-EYE flash memory. 
<p>
Read/Write the flash memory of POB-EYE. <br>
The functions works on the last flash sector of POB-EYE. The size of this flash sector is 8192 bytes. You can't write or read more than 8K bytes.<p>
This flash sector is divided in 16 sector of 512 bytes.<p>
<b>Update:</b> <br>
 <em>2007.02.21: write on 8K bytes of flash</em> <br>
 <dl class="author" compact><dt><b>Author:</b></dt><dd>Baptiste Burles. POB-Technology </dd></dl>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="bb983c1f72528b9346dbf6141732d6a6"></a><!-- doxytag: member="flash.h::FlashErase" ref="bb983c1f72528b9346dbf6141732d6a6" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int FlashErase           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Erase flash sector. 
<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>0 if no error </dd></dl>

</div>
</div><p>
<a class="anchor" name="ae24153beabe70cd78831db27782a339"></a><!-- doxytag: member="flash.h::FlashInit" ref="ae24153beabe70cd78831db27782a339" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void FlashInit           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Init flash function. 
<p>
To use the flash function, you must call first this function.<p>
For example: <em><a class="el" href="pob-eye_8h.html#53162b8326f733a695caccdc52dd47e9">InitPOBEYE()</a>;<br>
<a class="el" href="flash_8h.html#ae24153beabe70cd78831db27782a339">FlashInit()</a>;</em> 
</div>
</div><p>
<a class="anchor" name="42aafe1b58b112f582db67796906e439"></a><!-- doxytag: member="flash.h::FlashRead" ref="42aafe1b58b112f582db67796906e439" args="(unsigned int sector_number, unsigned int offset, unsigned char *data, int len)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void FlashRead           </td>
          <td>(</td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>sector_number</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&nbsp;</td>
          <td class="paramname"> <em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>len</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Read data on flash. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>sector_number</em>&nbsp;</td><td>: begin read at the sector number specified (between 0 and 15) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>offset</em>&nbsp;</td><td>: position in sector (between 0 and 511) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>ptr</em>&nbsp;</td><td>: array to store data read </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>len</em>&nbsp;</td><td>: number of byte to read </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="824dacdee5919d93f47690d74c60e477"></a><!-- doxytag: member="flash.h::FlashWrite" ref="824dacdee5919d93f47690d74c60e477" args="(unsigned int sector_number, unsigned char *ptr, int len)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int FlashWrite           </td>
          <td>(</td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>sector_number</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&nbsp;</td>
          <td class="paramname"> <em>ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>len</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Write data on flash. 
<p>
This function write data on the specified sector of flash.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>sector_number,:</em>&nbsp;</td><td>sector where writing data. Must be between 0 and 15. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>ptr,:</em>&nbsp;</td><td>pointer to the data </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>len,:</em>&nbsp;</td><td>Length of data. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>0 if no error </dd></dl>

</div>
</div><p>
<!-- 
	Author : Baptiste Burles. POB-Technology
	Date : 10/10/2005
	
	This is the html footer for the Doxygen doc.
	
-->
<html>

<p>

<center>
	<hr size="1"><address style="align: right;"><small>Generated by&nbsp;
	<a href="http://www.doxygen.org/index.html">
	<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> </small></address>
	
	
	<address style="align: right;"><small>
	This is a documentation from 
	<a href="http://www.pob-technology.com">
	<img src="LOGO_POB.JPG" align="middle" border="0"></a> All rights reserved.
	</small></address>
	
</center>

</html>
