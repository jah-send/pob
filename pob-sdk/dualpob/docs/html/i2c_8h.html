<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>DUAL-POB Library: i2c.h File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.1-p1 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li id="current"><a href="files.html"><span>Files</span></a></li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="files.html"><span>File&nbsp;List</span></a></li>
    <li><a href="globals.html"><span>Globals</span></a></li>
  </ul></div>
<h1>i2c.h File Reference</h1>I2C Communication. <a href="#_details">More...</a>
<p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td colspan="2"><div class="groupHeader">I2C master functions</div></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="i2c_8h.html#dfa0a56b08e1b36bd8bc3ae554bf4624">InitI2C</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initialize I2C bus.  <a href="#dfa0a56b08e1b36bd8bc3ae554bf4624"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="i2c_8h.html#926a5e4d4d55fb64f3ef9ac52a33950b">SetI2CSpeed</a> (UInt32 scl_clock)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set I2C bus speed.  <a href="#926a5e4d4d55fb64f3ef9ac52a33950b"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="i2c_8h.html#271c56f498de407dd3dba655269ca41e">SendSlaveAddress</a> (UInt8 Addr_S)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Send slave address through the bus.  <a href="#271c56f498de407dd3dba655269ca41e"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">UInt8&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="i2c_8h.html#f2fbab2d6c017d6c8ac42e81ec06d89e">ReadOnI2CAck</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Read a byte from a slave device and acknowledge.  <a href="#f2fbab2d6c017d6c8ac42e81ec06d89e"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">UInt8&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="i2c_8h.html#6a2c9db1bdf643e68311ece2975f2282">ReadOnI2CNoAck</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Read a byte from a slave device and don't acknowledge.  <a href="#6a2c9db1bdf643e68311ece2975f2282"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">UInt8&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="i2c_8h.html#e4a442846032f8b084524afdfc1669fe">WriteOnI2C</a> (UInt8 data)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Write a byte on the I2C bus to the slave device.  <a href="#e4a442846032f8b084524afdfc1669fe"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="i2c_8h.html#6ee11e52185a6b67da9cd5a3c24b5388">WriteBufferOnI2C</a> (UInt8 *Data, UInt32 Len)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Write a buffer on the I2C bus to the slave device.  <a href="#6ee11e52185a6b67da9cd5a3c24b5388"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="i2c_8h.html#0d1408f25c04297053e117021ba730ee">STOPI2C</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Stop I2C communication.  <a href="#0d1408f25c04297053e117021ba730ee"></a><br></td></tr>
<tr><td colspan="2"><div class="groupHeader">I2C slave functions</div></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="i2c_8h.html#688238683427c03da82ea51b4371a204">InitI2CSlave</a> (UInt8 slaveAddress)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initialize I2C bus in slave mode.  <a href="#688238683427c03da82ea51b4371a204"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">UInt8&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="i2c_8h.html#a5bebe9bfc6e5b3105d33983bc3f43ef">ReadOnI2CSlave</a> (UInt8 *data)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Read a byte from a i2c master device.  <a href="#a5bebe9bfc6e5b3105d33983bc3f43ef"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="i2c_8h.html#209433a7e5ab50911eb8cbc2b850527e">PrepareWriteOnI2CSlave</a> (UInt8 data)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Prepare a byte to be write on I2C bus.  <a href="#209433a7e5ab50911eb8cbc2b850527e"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">UInt8&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="i2c_8h.html#1461573ad6d23192492a9900f8504649">IsWriteOnI2COk</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Is the byte has been sent to the i2c master?  <a href="#1461573ad6d23192492a9900f8504649"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">UInt8&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="i2c_8h.html#f1409c448909ef876776f6f2c0d35fb7">StopDetectedOnI2CSlave</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Detect a stop condition or a restart condition on i2c bus.  <a href="#f1409c448909ef876776f6f2c0d35fb7"></a><br></td></tr>
<tr><td colspan="2"><div class="groupHeader">low level master i2c functions: start and repeated start condition</div></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">unsigned char&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="i2c_8h.html#a3d328f00326115e9c660ccc838417c8">i2c_start</a> (unsigned char address)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Send start condition + slave address.  <a href="#a3d328f00326115e9c660ccc838417c8"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">unsigned char&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="i2c_8h.html#70c934b61f3c6ba8524104a1d7197d30">i2c_rep_start</a> (unsigned char address)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Send a repeated start condition.  <a href="#70c934b61f3c6ba8524104a1d7197d30"></a><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
I2C Communication. 
<p>
<a class="anchor" name="i2c"></a><p>
Communication with the I2C bus as Master/Slave mode. The i2c bus on dual-pob comes with 4.7k pull-up resistances.<p>
<dl class="user" compact><dt><b>Master write example</b></dt><dd></dd></dl>
<div class="fragment"><pre class="fragment">        <a class="code" href="dual-pob_8h.html#0d35adb56185f81b48a3091f60862419">UInt8</a> buffer;
        <a class="code" href="dual-pob_8h.html#0d35adb56185f81b48a3091f60862419">UInt8</a> i2c_slave_addr = 0x40;
 
        <a class="code" href="i2c_8h.html#dfa0a56b08e1b36bd8bc3ae554bf4624">InitI2C</a>();
 
        data=0;
        <span class="keywordflow">while</span>(1)
        {
                <a class="code" href="i2c_8h.html#271c56f498de407dd3dba655269ca41e">SendSlaveAddress</a>( i2c_slave_addr );
                <span class="keywordflow">if</span>(data==0)
                {
                        buffer=<span class="charliteral">'A'</span>;
                        <a class="code" href="i2c_8h.html#e4a442846032f8b084524afdfc1669fe">WriteOnI2C</a>(buffer);
                        data=1;
                }
                <span class="keywordflow">else</span>
                {
                        buffer=<span class="charliteral">'B'</span>;
                        <a class="code" href="i2c_8h.html#e4a442846032f8b084524afdfc1669fe">WriteOnI2C</a>(buffer);
                        data=0;
                }
 
                <a class="code" href="i2c_8h.html#0d1408f25c04297053e117021ba730ee">STOPI2C</a>();
        }
</pre></div><p>
<dl class="user" compact><dt><b>Master read example</b></dt><dd></dd></dl>
<div class="fragment"><pre class="fragment">        <a class="code" href="uart_8h.html#93cbc1428f9379fca79558ff9b7b38a6">InitUART0</a>(19200);
        <a class="code" href="i2c_8h.html#dfa0a56b08e1b36bd8bc3ae554bf4624">InitI2C</a>();
 
        <span class="keywordflow">while</span>(1)
        {
                <a class="code" href="i2c_8h.html#271c56f498de407dd3dba655269ca41e">SendSlaveAddress</a>( i2c_slave_addr | 1 );
                data=<a class="code" href="i2c_8h.html#f2fbab2d6c017d6c8ac42e81ec06d89e">ReadOnI2CAck</a>();
                data1=<a class="code" href="i2c_8h.html#6a2c9db1bdf643e68311ece2975f2282">ReadOnI2CNoAck</a>();
 
                <a class="code" href="uart_8h.html#9c5c67175b1641b534bf5a3e18a0f363">SendByteToUART0</a>(data);
                <a class="code" href="uart_8h.html#9c5c67175b1641b534bf5a3e18a0f363">SendByteToUART0</a>(data1);
 
                <a class="code" href="i2c_8h.html#0d1408f25c04297053e117021ba730ee">STOPI2C</a>();
        }
</pre></div><p>
<dl class="user" compact><dt><b>Slave code example</b></dt><dd></dd></dl>
<div class="fragment"><pre class="fragment">        <a class="code" href="dual-pob_8h.html#0d35adb56185f81b48a3091f60862419">UInt8</a> i2c_slave_addr = 0x40;

        <a class="code" href="uart_8h.html#93cbc1428f9379fca79558ff9b7b38a6">InitUART0</a>(19200);
 
        <a class="code" href="i2c_8h.html#688238683427c03da82ea51b4371a204">InitI2CSlave</a>(i2c_slave_addr);
 
        <span class="keywordflow">while</span>(1)
        {
                <span class="keywordflow">if</span>(<a class="code" href="i2c_8h.html#a5bebe9bfc6e5b3105d33983bc3f43ef">ReadOnI2CSlave</a>(&amp;data)==1)
                {
                        <a class="code" href="uart_8h.html#9c5c67175b1641b534bf5a3e18a0f363">SendByteToUART0</a>(data);
                }
 
                <span class="keywordflow">if</span>(flag==0)
                {
                        data=<span class="charliteral">'0'</span>;
                        flag=1;
                }
                <span class="keywordflow">else</span>
                {
                        data=<span class="charliteral">'R'</span>;
                        flag=0;
                }
                
                <a class="code" href="i2c_8h.html#209433a7e5ab50911eb8cbc2b850527e">PrepareWriteOnI2CSlave</a>(data);
 
                <span class="keywordflow">if</span>(<a class="code" href="i2c_8h.html#1461573ad6d23192492a9900f8504649">IsWriteOnI2COk</a>(data)==1)
                {
                        <a class="code" href="uart_8h.html#9c5c67175b1641b534bf5a3e18a0f363">SendByteToUART0</a>(<span class="charliteral">'w'</span>);
                }
        }
</pre></div> <hr><h2>Function Documentation</h2>
<a class="anchor" name="70c934b61f3c6ba8524104a1d7197d30"></a><!-- doxytag: member="i2c.h::i2c_rep_start" ref="70c934b61f3c6ba8524104a1d7197d30" args="(unsigned char address)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned char i2c_rep_start           </td>
          <td>(</td>
          <td class="paramtype">unsigned char&nbsp;</td>
          <td class="paramname"> <em>address</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Send a repeated start condition. 
<p>
<dl class="warning" compact><dt><b>Warning:</b></dt><dd>low level functions!</dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>address</em>&nbsp;</td><td></td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>1 on success, else 0 (device not accessible). </dd></dl>

</div>
</div><p>
<a class="anchor" name="a3d328f00326115e9c660ccc838417c8"></a><!-- doxytag: member="i2c.h::i2c_start" ref="a3d328f00326115e9c660ccc838417c8" args="(unsigned char address)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned char i2c_start           </td>
          <td>(</td>
          <td class="paramtype">unsigned char&nbsp;</td>
          <td class="paramname"> <em>address</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Send start condition + slave address. 
<p>
<dl class="warning" compact><dt><b>Warning:</b></dt><dd>low level functions!</dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>address</em>&nbsp;</td><td>I2c slave address </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>1 on success, else 0 (device not accessible). </dd></dl>

</div>
</div><p>
<a class="anchor" name="dfa0a56b08e1b36bd8bc3ae554bf4624"></a><!-- doxytag: member="i2c.h::InitI2C" ref="dfa0a56b08e1b36bd8bc3ae554bf4624" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void InitI2C           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Initialize I2C bus. 
<p>
The bus speed is at 100 Kbits/s 
</div>
</div><p>
<a class="anchor" name="688238683427c03da82ea51b4371a204"></a><!-- doxytag: member="i2c.h::InitI2CSlave" ref="688238683427c03da82ea51b4371a204" args="(UInt8 slaveAddress)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void InitI2CSlave           </td>
          <td>(</td>
          <td class="paramtype">UInt8&nbsp;</td>
          <td class="paramname"> <em>slaveAddress</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Initialize I2C bus in slave mode. 
<p>
<b>I2C slave functions.</b> the dual-pob use the i2c interrupt in slave mode.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>slaveAddress</em>&nbsp;</td><td>I2C slave address. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="1461573ad6d23192492a9900f8504649"></a><!-- doxytag: member="i2c.h::IsWriteOnI2COk" ref="1461573ad6d23192492a9900f8504649" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UInt8 IsWriteOnI2COk           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Is the byte has been sent to the i2c master? 
<p>
<b>I2C slave functions.</b> Use this function to verify if the master has been read the slave device. <dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="i2c_8h.html#209433a7e5ab50911eb8cbc2b850527e">PrepareWriteOnI2CSlave</a></dd></dl>
<dl class="user" compact><dt><b>Example: Wait a write transfer from a master device:</b></dt><dd></dd></dl>
<div class="fragment"><pre class="fragment">        <a class="code" href="i2c_8h.html#209433a7e5ab50911eb8cbc2b850527e">PrepareWriteOnI2CSlave</a>( your_data );

        <span class="keywordflow">while</span>( <a class="code" href="i2c_8h.html#1461573ad6d23192492a9900f8504649">IsWriteOnI2COk</a>() == 0 ) ;
</pre></div><p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>1 if the data has been sent. 0 else. </dd></dl>

</div>
</div><p>
<a class="anchor" name="209433a7e5ab50911eb8cbc2b850527e"></a><!-- doxytag: member="i2c.h::PrepareWriteOnI2CSlave" ref="209433a7e5ab50911eb8cbc2b850527e" args="(UInt8 data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PrepareWriteOnI2CSlave           </td>
          <td>(</td>
          <td class="paramtype">UInt8&nbsp;</td>
          <td class="paramname"> <em>data</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Prepare a byte to be write on I2C bus. 
<p>
<b>I2C slave functions.</b> Call the <a class="el" href="i2c_8h.html#1461573ad6d23192492a9900f8504649">IsWriteOnI2COk()</a> function to verify if your byte has been sent to the master device.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>data</em>&nbsp;</td><td>Data send to i2c master </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="f2fbab2d6c017d6c8ac42e81ec06d89e"></a><!-- doxytag: member="i2c.h::ReadOnI2CAck" ref="f2fbab2d6c017d6c8ac42e81ec06d89e" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UInt8 ReadOnI2CAck           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Read a byte from a slave device and acknowledge. 
<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>byte from the slave device. </dd></dl>

</div>
</div><p>
<a class="anchor" name="6a2c9db1bdf643e68311ece2975f2282"></a><!-- doxytag: member="i2c.h::ReadOnI2CNoAck" ref="6a2c9db1bdf643e68311ece2975f2282" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UInt8 ReadOnI2CNoAck           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Read a byte from a slave device and don't acknowledge. 
<p>
This call must be follow by a <a class="el" href="i2c_8h.html#0d1408f25c04297053e117021ba730ee">STOPI2C()</a> call.<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>byte from the slave device. </dd></dl>

</div>
</div><p>
<a class="anchor" name="a5bebe9bfc6e5b3105d33983bc3f43ef"></a><!-- doxytag: member="i2c.h::ReadOnI2CSlave" ref="a5bebe9bfc6e5b3105d33983bc3f43ef" args="(UInt8 *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UInt8 ReadOnI2CSlave           </td>
          <td>(</td>
          <td class="paramtype">UInt8 *&nbsp;</td>
          <td class="paramname"> <em>data</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Read a byte from a i2c master device. 
<p>
<b>I2C slave functions.</b><p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>data</em>&nbsp;</td><td>the data read </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>1 if a data have been read, else 0. </dd></dl>

</div>
</div><p>
<a class="anchor" name="271c56f498de407dd3dba655269ca41e"></a><!-- doxytag: member="i2c.h::SendSlaveAddress" ref="271c56f498de407dd3dba655269ca41e" args="(UInt8 Addr_S)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SendSlaveAddress           </td>
          <td>(</td>
          <td class="paramtype">UInt8&nbsp;</td>
          <td class="paramname"> <em>Addr_S</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Send slave address through the bus. 
<p>
This function issues a start condition, sends slave address and transfer direction.<p>
<dl class="user" compact><dt><b>To write on i2c bus:</b></dt><dd><div class="fragment"><pre class="fragment">                <a class="code" href="i2c_8h.html#271c56f498de407dd3dba655269ca41e">SendSlaveAddress</a>(your_i2c_slave_adress).
</pre></div></dd></dl>
<dl class="user" compact><dt><b>To read on i2c bus:</b></dt><dd><div class="fragment"><pre class="fragment">                <a class="code" href="i2c_8h.html#271c56f498de407dd3dba655269ca41e">SendSlaveAddress</a>(your_i2c_slave_adress | 1);
</pre></div></dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Addr_S</em>&nbsp;</td><td>address (and transfer direction!) of the slave device on the i2c bus. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="926a5e4d4d55fb64f3ef9ac52a33950b"></a><!-- doxytag: member="i2c.h::SetI2CSpeed" ref="926a5e4d4d55fb64f3ef9ac52a33950b" args="(UInt32 scl_clock)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SetI2CSpeed           </td>
          <td>(</td>
          <td class="paramtype">UInt32&nbsp;</td>
          <td class="paramname"> <em>scl_clock</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Set I2C bus speed. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>scl_clock</em>&nbsp;</td><td>I2C SCL clock, between 100000 and 400000. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="f1409c448909ef876776f6f2c0d35fb7"></a><!-- doxytag: member="i2c.h::StopDetectedOnI2CSlave" ref="f1409c448909ef876776f6f2c0d35fb7" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UInt8 StopDetectedOnI2CSlave           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Detect a stop condition or a restart condition on i2c bus. 
<p>
<b>I2C slave functions.</b> You can use this function to test end of transmition for example.<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>1 if a stop or restart condition occurs on i2c bus. else 0 </dd></dl>

</div>
</div><p>
<a class="anchor" name="0d1408f25c04297053e117021ba730ee"></a><!-- doxytag: member="i2c.h::STOPI2C" ref="0d1408f25c04297053e117021ba730ee" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void STOPI2C           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Stop I2C communication. 
<p>

</div>
</div><p>
<a class="anchor" name="6ee11e52185a6b67da9cd5a3c24b5388"></a><!-- doxytag: member="i2c.h::WriteBufferOnI2C" ref="6ee11e52185a6b67da9cd5a3c24b5388" args="(UInt8 *Data, UInt32 Len)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void WriteBufferOnI2C           </td>
          <td>(</td>
          <td class="paramtype">UInt8 *&nbsp;</td>
          <td class="paramname"> <em>Data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UInt32&nbsp;</td>
          <td class="paramname"> <em>Len</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Write a buffer on the I2C bus to the slave device. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Data</em>&nbsp;</td><td>Buffer to send. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>Len</em>&nbsp;</td><td>Lenght of buffer </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="e4a442846032f8b084524afdfc1669fe"></a><!-- doxytag: member="i2c.h::WriteOnI2C" ref="e4a442846032f8b084524afdfc1669fe" args="(UInt8 data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UInt8 WriteOnI2C           </td>
          <td>(</td>
          <td class="paramtype">UInt8&nbsp;</td>
          <td class="paramname"> <em>data</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Write a byte on the I2C bus to the slave device. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>data</em>&nbsp;</td><td>Byte that will be sent through the I2C bus to the slave device </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>1 if write failed, 0 else. </dd></dl>

</div>
</div><p>
<!-- 
	Author : Baptiste Burles. POB-Technology
	Date : 10/10/2005
	
	This is the html footer for the Doxygen doc.
	
-->
<html>

<p>

<center>
	<hr size="1"><address style="align: right;"><small>Generated by&nbsp;
	<a href="http://www.doxygen.org/index.html">
	<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> </small></address>
	
	
	<address style="align: right;"><small>
	This is a documentation from 
	<a href="http://www.pob-technology.com">
	<img src="LOGO_POB.JPG" align="middle" border="0"></a> All rights reserved.
	</small></address>
	
</center>

</html>
