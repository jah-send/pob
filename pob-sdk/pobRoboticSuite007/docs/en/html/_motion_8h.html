<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>POB-Robotics-Suite 007 Library: Motion.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Defines</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<h1>Motion.h File Reference</h1>  </div>
</div>
<div class="contents">

<p>Manage the servomotors, motors and low level motion.  
<a href="#_details">More...</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct__status__.html">_status_</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Status structure.  <a href="struct__status__.html#_details">More...</a><br/></td></tr>
<tr><td colspan="2"><h2><a name="define-members"></a>
Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_motion_8h.html#a5ac6094b45fdc3c394b2c6170e4fb15f">SLAVE_ADDR</a>&nbsp;&nbsp;&nbsp;0xB0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_motion_8h.html#a68a457b0dea638424bf64dee58390457">SERVO_NUMBER</a>&nbsp;&nbsp;&nbsp;8</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_motion_8h.html#a28f01cf549c3f5bcf89021da76128bde">getUInt32FromUC2</a>(integer, buffer)&nbsp;&nbsp;&nbsp;integer = ((buffer)[3]&lt;&lt;24)| ((buffer)[2]&lt;&lt;16)|((buffer)[1]&lt;&lt;8)|((buffer)[0])</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get UInt32 from a UC2 buffer.  <a href="#a28f01cf549c3f5bcf89021da76128bde"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_motion_8h.html#ab5c29592fa2244a445244e4a49e75932">getUInt16FromUC2</a>(integer, buffer)&nbsp;&nbsp;&nbsp;integer = ((buffer)[1]&lt;&lt;8)|((buffer)[0])</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get UInt16 from a UC2 buffer.  <a href="#ab5c29592fa2244a445244e4a49e75932"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_motion_8h.html#ad3e00be0ae018b211197e53f94bebb82">setUInt32ForUC2</a>(integer, buffer)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set a UInt32 into a buffer for UC2.  <a href="#ad3e00be0ae018b211197e53f94bebb82"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_motion_8h.html#aa2479287cc4eff94a56d3c492360b0de">setUInt16ForUC2</a>(integer, buffer)&nbsp;&nbsp;&nbsp;buffer[1] = (integer&gt;&gt;8);	buffer[0] = (UInt8)(integer)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set UInt16 into a buffer for UC2.  <a href="#aa2479287cc4eff94a56d3c492360b0de"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="struct__status__.html">_status_</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_motion_8h.html#aa93ed3ed2121f998a610aebec5b10502">Status</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Status structure.  <a href="#aa93ed3ed2121f998a610aebec5b10502"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_motion_8h.html#adf160195c74e4e115770597429b2229a">SetPwmMotor</a> (Int16 wheelLeft, Int16 wheelRight)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set the direct current motor movement with PWM values.  <a href="#adf160195c74e4e115770597429b2229a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_motion_8h.html#a5a29b152ff732ca197003df4bf149903">GetAnalogsFromUc2</a> (UInt16 *analog)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get analog values from UC2.  <a href="#a5a29b152ff732ca197003df4bf149903"></a><br/></td></tr>
<tr><td colspan="2"><div class="groupHeader">Manage motor and basic movement of the robot.</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p><a class="anchor" id="amgrp9222fdaaa058552868958087541b1581"></a> <a class="anchor" id="move_base"></a> </p>
</div></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_motion_8h.html#a689d7fe1ee4de9168f7ddbcab5845b31">GoToXY</a> (Int32 x, Int32 y, UInt32 speed)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Go to [X,Y] at a specified speed from the origin of the robot.  <a href="#a689d7fe1ee4de9168f7ddbcab5845b31"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_motion_8h.html#aaefd17cfdde4917c654c9c66d18426b8">GoToXYRelative</a> (Int32 x, Int32 y, UInt32 speed)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Go to [X,Y] at a specified speed from the current position of robot.  <a href="#aaefd17cfdde4917c654c9c66d18426b8"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_motion_8h.html#a83850e2f63d8c502525e569ade03907f">DoRotation</a> (Int32 alpha, UInt32 speed)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Make a rotation.  <a href="#a83850e2f63d8c502525e569ade03907f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_motion_8h.html#abc5a38af2f6fd07c1512d549e80e6591">SetCoeffMove</a> (Int8 leftRot, Int8 leftTrans, Int8 rightRot, Int8 rightTrans)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set coefficient on movement (translation and rotation) This coefficient are set for the function GoToXY and DoRotation and can help the robot on ground. By default, coefficient are all egual to 1.  <a href="#abc5a38af2f6fd07c1512d549e80e6591"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_motion_8h.html#a445c8eb3a8b51240ea19350679cf5110">GetStatus</a> (<a class="el" href="struct__status__.html">Status</a> *status)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get status of UC2.  <a href="#a445c8eb3a8b51240ea19350679cf5110"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_motion_8h.html#a9ee03566b083c3256ddf202483ba7837">GetPosition</a> (Int32 *x, Int32 *y, Int32 *orientation)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get position [X.Y] and orientation of robot.  <a href="#a9ee03566b083c3256ddf202483ba7837"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_motion_8h.html#a80baf95d9c090e33fa7a7f4faa0f659a">ResetPosition</a> (void)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Reset current position of robot.  <a href="#a80baf95d9c090e33fa7a7f4faa0f659a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_motion_8h.html#a62939566aeeeb9f20bc4618339a732fa">SetMotor</a> (Int16 wheelLeft, Int16 wheelRight)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set the direct current motor movement.  <a href="#a62939566aeeeb9f20bc4618339a732fa"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_motion_8h.html#a659b8ff3622efe2bbccb0bbceb29bc9c">StopMotor</a> (void)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Stop direct current motor.  <a href="#a659b8ff3622efe2bbccb0bbceb29bc9c"></a><br/></td></tr>
<tr><td colspan="2"><div class="groupHeader">Movement management.</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p><a class="anchor" id="amgrp77df857d149bcc5a595036b44b06c505"></a>Play a movement with the robot's wheel. </p>
</div></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_motion_8h.html#a3364476bc32eca1d0c34b1b512414cfe">InitNewMovement</a> (UInt32 number, UInt32 speed)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Init a new wheel movement.  <a href="#a3364476bc32eca1d0c34b1b512414cfe"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_motion_8h.html#a7ea4efe533f59baf4d7614f6a425dc82">AddXYMovement</a> (UInt32 index, Int32 x, Int32 y)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Add a wheel movement.  <a href="#a7ea4efe533f59baf4d7614f6a425dc82"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_motion_8h.html#ad1e9df5e9c05f92e3a359fa07bc9cb44">PlayMovement</a> (void)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Play the wheel movement.  <a href="#ad1e9df5e9c05f92e3a359fa07bc9cb44"></a><br/></td></tr>
<tr><td colspan="2"><div class="groupHeader">Servomotor motion.</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p><a class="anchor" id="amgrpaace90f926073f720decc5314a24c450"></a>Play a motion with the servomotors. </p>
</div></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_motion_8h.html#a362633684b674702a423a639b56e73e2">InitServoMotion</a> (UInt8 number, UInt8 speed)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Init a servomotor motion.  <a href="#a362633684b674702a423a639b56e73e2"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_motion_8h.html#a23f714380ce2805cf1ebaf2c3864fd4a">AddServoMotion</a> (UInt8 index, UInt16 *position)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Add a motion.  <a href="#a23f714380ce2805cf1ebaf2c3864fd4a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_motion_8h.html#a67ba9b82d76ed24e94e6c91c6d782815">PlayServoMotion</a> (UInt8 inLoop)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Play the servomotor motion.  <a href="#a67ba9b82d76ed24e94e6c91c6d782815"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_motion_8h.html#ad024147e507dffbf9a9eb4992472f5c5">StopServoMotion</a> (void)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Stop motion.  <a href="#ad024147e507dffbf9a9eb4992472f5c5"></a><br/></td></tr>
<tr><td colspan="2"><div class="groupHeader">Trigonometry.</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p><a class="anchor" id="amgrp138f3c2b20483ebb261918c72d5ab13a"></a> </p>
</div></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">Int16&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_motion_8h.html#a83f96fa0cd04f35154f0d252fb62f579">GetCos</a> (UInt16 angle)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get cosinus from an angle in degrees.  <a href="#a83f96fa0cd04f35154f0d252fb62f579"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">Int16&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_motion_8h.html#a9f0fddb0406011570670ffebb4bf79b0">GetSin</a> (UInt16 angle)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get sinus from an angle in degrees.  <a href="#a9f0fddb0406011570670ffebb4bf79b0"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="member-group"></a>
Servomotor management.</h2></td></tr>
<tr><td colspan="2"><p><a class="anchor" id="amgrp10ed49e83f7bd14ad715e8b7bd9c1ff6"></a> <a class="anchor" id="servo"></a> </p>
<br/><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_motion_8h.html#a211a2e83fff99c30dd7f153dee9f77b6">_servo_unit</a> { <a class="el" href="_motion_8h.html#a211a2e83fff99c30dd7f153dee9f77b6af4b20d79dce6033304ded863719fec6c">SERVO_UNIT_DEFAULT</a> =  0, 
<a class="el" href="_motion_8h.html#a211a2e83fff99c30dd7f153dee9f77b6a025a28a90e564ac546abbc1d347b3ad3">SERVO_UNIT_DEGREES</a> =  1
 }</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><p>Servomotor unit enumeration. </p>
 <a href="_motion_8h.html#a211a2e83fff99c30dd7f153dee9f77b6">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef enum <a class="el" href="_motion_8h.html#a211a2e83fff99c30dd7f153dee9f77b6">_servo_unit</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_motion_8h.html#a2bb38f81e0c68f262b42b229892694e0">ServoUnit</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Servomotor unit enumeration.  <a href="#a2bb38f81e0c68f262b42b229892694e0"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_motion_8h.html#ae3dc18b01c2cb3c0e6641d9b28843d33">SetServo</a> (UInt8 servo, UInt16 position, UInt8 speed)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set a servomotor at a specified position and speed.  <a href="#ae3dc18b01c2cb3c0e6641d9b28843d33"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_motion_8h.html#a473fda790d57598468d38c6abde3f64b">SetServoUnit</a> (<a class="el" href="_motion_8h.html#a2bb38f81e0c68f262b42b229892694e0">ServoUnit</a> unit)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set unit of the servomotor's position.  <a href="#a473fda790d57598468d38c6abde3f64b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_motion_8h.html#a595914c7bd98855bdeffcfa879c4d7f9">SwitchOnServo</a> (UInt8 servo)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Swith on a servomotor.  <a href="#a595914c7bd98855bdeffcfa879c4d7f9"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_motion_8h.html#ae2b8d5bd40b4f30440f47dab6aab7947">SwitchOffServo</a> (UInt8 servo)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Swith off a servomotor.  <a href="#ae2b8d5bd40b4f30440f47dab6aab7947"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_motion_8h.html#aec59f9d2d1b9e1ccac0e43bf74299159">SwitchOnAllServo</a> (void)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Switch on all the servomotors.  <a href="#aec59f9d2d1b9e1ccac0e43bf74299159"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_motion_8h.html#a0f6ee2a6dde675c97288707e4a7a23ed">SwitchOffAllServo</a> (void)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Switch off all the servomotors.  <a href="#a0f6ee2a6dde675c97288707e4a7a23ed"></a><br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>Manage the servomotors, motors and low level motion. </p>
<p><a class="anchor" id="uccomm"></a></p>
<p>The POB-Robotics-Suite has 2 microcontrollers (or MCU: Micro Controller Unit):</p>
<ul>
<li>a main microcontroller, named UC1, where you develop and manage all the robot resources.</li>
<li>a second microcontroller, named UC2, manage the low level hardware: direct current motor, servomotors, wheel's encoder...</li>
</ul>
<p>UC1 and UC2 are linked by a I2C bus (named i2c1). You have access to UC2's functions from this file likes:</p>
<ul>
<li>Direct current motors.</li>
<li>Servomotor movement.</li>
<li>[X.Y] Position.</li>
<li>Motion functions.</li>
</ul>
<dl class="user"><dt><b>Example Go to [x,y] point.</b></dt><dd></dd></dl>
<div class="fragment"><pre class="fragment"><span class="preprocessor">#include &lt;<a class="code" href="pob_robotic_suite_8h.html" title="General POB-Robotics-Suite include.">pobRoboticSuite.h</a>&gt;</span>

<span class="keywordtype">int</span> main(<span class="keywordtype">void</span>)
{
    <a class="code" href="struct__status__.html" title="Status structure.">Status</a> status;

    <a class="code" href="pob_robotic_suite_8h.html#a9c7b6f7049447d5d9103ab928bdb4dd2" title="Initialize the microcontroller of the POB-Robotics-Suite.">InitCpu</a>();

    <span class="comment">// Init the communication between microcontrollers of the robot:</span>
    <a class="code" href="_sensor_8h.html#a43a000f01e2871fa6ce80b03d7fbb0bf" title="Initialize the hardware of the POB-Robotics-Suite.">InitRobot</a>();

    <span class="comment">// Go to [0,200] at speed of 100 mm/s:</span>
    <a class="code" href="_motion_8h.html#a689d7fe1ee4de9168f7ddbcab5845b31" title="Go to [X,Y] at a specified speed from the origin of the robot.">GoToXY</a>(0,200,100);

    <span class="comment">// Wait end of &#39;go to&#39; function:</span>
    <a class="code" href="_motion_8h.html#a445c8eb3a8b51240ea19350679cf5110" title="Get status of UC2.">GetStatus</a>(&amp;status);
    <span class="keywordflow">while</span>( status.<a class="code" href="struct__status__.html#a5ff2475c5de6310659546e4ba66c48d4">eventGoToXY</a> != 0)
    {
        <a class="code" href="_motion_8h.html#a445c8eb3a8b51240ea19350679cf5110" title="Get status of UC2.">GetStatus</a>(&amp;status);
    }

    <span class="keywordflow">return</span> 0;
}
</pre></div> <hr/><h2>Define Documentation</h2>
<a class="anchor" id="ab5c29592fa2244a445244e4a49e75932"></a><!-- doxytag: member="Motion.h::getUInt16FromUC2" ref="ab5c29592fa2244a445244e4a49e75932" args="(integer, buffer)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define getUInt16FromUC2</td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname">integer, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname">buffer</td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td>&nbsp;&nbsp;&nbsp;integer = ((buffer)[1]&lt;&lt;8)|((buffer)[0])</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get UInt16 from a UC2 buffer. </p>

</div>
</div>
<a class="anchor" id="a28f01cf549c3f5bcf89021da76128bde"></a><!-- doxytag: member="Motion.h::getUInt32FromUC2" ref="a28f01cf549c3f5bcf89021da76128bde" args="(integer, buffer)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define getUInt32FromUC2</td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname">integer, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname">buffer</td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td>&nbsp;&nbsp;&nbsp;integer = ((buffer)[3]&lt;&lt;24)| ((buffer)[2]&lt;&lt;16)|((buffer)[1]&lt;&lt;8)|((buffer)[0])</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get UInt32 from a UC2 buffer. </p>

</div>
</div>
<a class="anchor" id="a68a457b0dea638424bf64dee58390457"></a><!-- doxytag: member="Motion.h::SERVO_NUMBER" ref="a68a457b0dea638424bf64dee58390457" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SERVO_NUMBER&nbsp;&nbsp;&nbsp;8</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Servomotor numbers. </p>

</div>
</div>
<a class="anchor" id="aa2479287cc4eff94a56d3c492360b0de"></a><!-- doxytag: member="Motion.h::setUInt16ForUC2" ref="aa2479287cc4eff94a56d3c492360b0de" args="(integer, buffer)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define setUInt16ForUC2</td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname">integer, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname">buffer</td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td>&nbsp;&nbsp;&nbsp;buffer[1] = (integer&gt;&gt;8);	buffer[0] = (UInt8)(integer)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Set UInt16 into a buffer for UC2. </p>

</div>
</div>
<a class="anchor" id="ad3e00be0ae018b211197e53f94bebb82"></a><!-- doxytag: member="Motion.h::setUInt32ForUC2" ref="ad3e00be0ae018b211197e53f94bebb82" args="(integer, buffer)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define setUInt32ForUC2</td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname">integer, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname">buffer</td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Value:</b><div class="fragment"><pre class="fragment">buffer[3] = (integer&gt;&gt;24); buffer[2] = (integer&gt;&gt;16);\
        buffer[1] = (integer&gt;&gt;8); buffer[0] = (integer)
</pre></div>
<p>Set a UInt32 into a buffer for UC2. </p>

</div>
</div>
<a class="anchor" id="a5ac6094b45fdc3c394b2c6170e4fb15f"></a><!-- doxytag: member="Motion.h::SLAVE_ADDR" ref="a5ac6094b45fdc3c394b2c6170e4fb15f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SLAVE_ADDR&nbsp;&nbsp;&nbsp;0xB0</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>I2C Address of UC2 microcontroller </p>

</div>
</div>
<hr/><h2>Typedef Documentation</h2>
<a class="anchor" id="a2bb38f81e0c68f262b42b229892694e0"></a><!-- doxytag: member="Motion.h::ServoUnit" ref="a2bb38f81e0c68f262b42b229892694e0" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef enum <a class="el" href="_motion_8h.html#a211a2e83fff99c30dd7f153dee9f77b6">_servo_unit</a>  <a class="el" href="_motion_8h.html#a2bb38f81e0c68f262b42b229892694e0">ServoUnit</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Servomotor unit enumeration. </p>

</div>
</div>
<a class="anchor" id="aa93ed3ed2121f998a610aebec5b10502"></a><!-- doxytag: member="Motion.h::Status" ref="aa93ed3ed2121f998a610aebec5b10502" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="struct__status__.html">_status_</a>  <a class="el" href="struct__status__.html">Status</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Status structure. </p>

</div>
</div>
<hr/><h2>Enumeration Type Documentation</h2>
<a class="anchor" id="a211a2e83fff99c30dd7f153dee9f77b6"></a><!-- doxytag: member="Motion.h::_servo_unit" ref="a211a2e83fff99c30dd7f153dee9f77b6" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="_motion_8h.html#a211a2e83fff99c30dd7f153dee9f77b6">_servo_unit</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Servomotor unit enumeration. </p>
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="a211a2e83fff99c30dd7f153dee9f77b6af4b20d79dce6033304ded863719fec6c"></a><!-- doxytag: member="SERVO_UNIT_DEFAULT" ref="a211a2e83fff99c30dd7f153dee9f77b6af4b20d79dce6033304ded863719fec6c" args="" -->SERVO_UNIT_DEFAULT</em>&nbsp;</td><td>
<p>Default's unit. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a211a2e83fff99c30dd7f153dee9f77b6a025a28a90e564ac546abbc1d347b3ad3"></a><!-- doxytag: member="SERVO_UNIT_DEGREES" ref="a211a2e83fff99c30dd7f153dee9f77b6a025a28a90e564ac546abbc1d347b3ad3" args="" -->SERVO_UNIT_DEGREES</em>&nbsp;</td><td>
<p>Servomotor position in degrees. </p>
</td></tr>
</table>
</dd>
</dl>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="a23f714380ce2805cf1ebaf2c3864fd4a"></a><!-- doxytag: member="Motion.h::AddServoMotion" ref="a23f714380ce2805cf1ebaf2c3864fd4a" args="(UInt8 index, UInt16 *position)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void AddServoMotion </td>
          <td>(</td>
          <td class="paramtype">UInt8&nbsp;</td>
          <td class="paramname"> <em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UInt16 *&nbsp;</td>
          <td class="paramname"> <em>position</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Add a motion. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>index</em>&nbsp;</td><td>Motion's index. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>position</em>&nbsp;</td><td>Pointer to a array of position. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a7ea4efe533f59baf4d7614f6a425dc82"></a><!-- doxytag: member="Motion.h::AddXYMovement" ref="a7ea4efe533f59baf4d7614f6a425dc82" args="(UInt32 index, Int32 x, Int32 y)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void AddXYMovement </td>
          <td>(</td>
          <td class="paramtype">UInt32&nbsp;</td>
          <td class="paramname"> <em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Int32&nbsp;</td>
          <td class="paramname"> <em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Int32&nbsp;</td>
          <td class="paramname"> <em>y</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Add a wheel movement. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>index</em>&nbsp;</td><td>Movement index. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>x</em>&nbsp;</td><td>X Position (in mm). </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>y</em>&nbsp;</td><td>Y Position (in mm). </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a83850e2f63d8c502525e569ade03907f"></a><!-- doxytag: member="Motion.h::DoRotation" ref="a83850e2f63d8c502525e569ade03907f" args="(Int32 alpha, UInt32 speed)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void DoRotation </td>
          <td>(</td>
          <td class="paramtype">Int32&nbsp;</td>
          <td class="paramname"> <em>alpha</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UInt32&nbsp;</td>
          <td class="paramname"> <em>speed</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Make a rotation. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>alpha</em>&nbsp;</td><td>Rotation angle (in degree). </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>speed</em>&nbsp;</td><td>Speed (in mm/s, 130 mm/s maximum). </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a5a29b152ff732ca197003df4bf149903"></a><!-- doxytag: member="Motion.h::GetAnalogsFromUc2" ref="a5a29b152ff732ca197003df4bf149903" args="(UInt16 *analog)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GetAnalogsFromUc2 </td>
          <td>(</td>
          <td class="paramtype">UInt16 *&nbsp;</td>
          <td class="paramname"> <em>analog</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get analog values from UC2. </p>
<p>The analog values from UC2 are used to detect POB's hardware.</p>
<p>But you can use it to expand the analog input of your robot by using the reserved analog pins: Use this function only if you know exactly the low level hardware!</p>
<dl class="user"><dt><b>Get analogs.</b></dt><dd></dd></dl>
<div class="fragment"><pre class="fragment"><span class="preprocessor">#include &lt;<a class="code" href="pob_robotic_suite_8h.html" title="General POB-Robotics-Suite include.">pobRoboticSuite.h</a>&gt;</span>

<span class="keywordtype">int</span> main(<span class="keywordtype">void</span>)
{
    <span class="comment">// Declare an array of 8 values.</span>
    <a class="code" href="pob_robotic_suite_8h.html#ac31fdfeb4d7cc4531f30bc743d85526e">UInt16</a> arrayAnalog[8];

    <span class="comment">// Init CPU:</span>
    <a class="code" href="pob_robotic_suite_8h.html#a9c7b6f7049447d5d9103ab928bdb4dd2" title="Initialize the microcontroller of the POB-Robotics-Suite.">InitCpu</a>();

    <span class="comment">// Init the communication between microcontrollers of the robot:</span>
    <a class="code" href="_sensor_8h.html#a43a000f01e2871fa6ce80b03d7fbb0bf" title="Initialize the hardware of the POB-Robotics-Suite.">InitRobot</a>();


    <span class="comment">// Get the analog values from UC2:</span>
     <a class="code" href="_motion_8h.html#a5a29b152ff732ca197003df4bf149903" title="Get analog values from UC2.">GetAnalogsFromUc2</a>(arrayAnalog);

    <span class="keywordflow">return</span> 0;
}
</pre></div><dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>analog</em>&nbsp;</td><td>Pointer to an array of 8 analog values. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a83f96fa0cd04f35154f0d252fb62f579"></a><!-- doxytag: member="Motion.h::GetCos" ref="a83f96fa0cd04f35154f0d252fb62f579" args="(UInt16 angle)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Int16 GetCos </td>
          <td>(</td>
          <td class="paramtype">UInt16&nbsp;</td>
          <td class="paramname"> <em>angle</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get cosinus from an angle in degrees. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>angle</em>&nbsp;</td><td>Angle (in degrees). </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Cosinus value. </dd></dl>

</div>
</div>
<a class="anchor" id="a9ee03566b083c3256ddf202483ba7837"></a><!-- doxytag: member="Motion.h::GetPosition" ref="a9ee03566b083c3256ddf202483ba7837" args="(Int32 *x, Int32 *y, Int32 *orientation)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GetPosition </td>
          <td>(</td>
          <td class="paramtype">Int32 *&nbsp;</td>
          <td class="paramname"> <em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Int32 *&nbsp;</td>
          <td class="paramname"> <em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Int32 *&nbsp;</td>
          <td class="paramname"> <em>orientation</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get position [X.Y] and orientation of robot. </p>
<p>Position are in millimeters and orientation in degree.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>x</em>&nbsp;</td><td>Pointer to a integer for store X's position. </td></tr>
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>y</em>&nbsp;</td><td>Pointer to a integer for store Y's position. </td></tr>
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>orientation</em>&nbsp;</td><td>Pointer to a integer for store orientation. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a9f0fddb0406011570670ffebb4bf79b0"></a><!-- doxytag: member="Motion.h::GetSin" ref="a9f0fddb0406011570670ffebb4bf79b0" args="(UInt16 angle)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Int16 GetSin </td>
          <td>(</td>
          <td class="paramtype">UInt16&nbsp;</td>
          <td class="paramname"> <em>angle</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get sinus from an angle in degrees. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>angle</em>&nbsp;</td><td>Angle (in degrees). </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Sinus value. </dd></dl>

</div>
</div>
<a class="anchor" id="a445c8eb3a8b51240ea19350679cf5110"></a><!-- doxytag: member="Motion.h::GetStatus" ref="a445c8eb3a8b51240ea19350679cf5110" args="(Status *status)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GetStatus </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct__status__.html">Status</a> *&nbsp;</td>
          <td class="paramname"> <em>status</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get status of UC2. </p>
<p>You can have access of UC2 status by this function:</p>
<ul>
<li>Wheel distance made by robot.</li>
<li>End of movement.</li>
<li>End of rotation.</li>
<li>Is dc motor stopped?</li>
</ul>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>status</em>&nbsp;</td><td>Pointer to a valid status structure. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a689d7fe1ee4de9168f7ddbcab5845b31"></a><!-- doxytag: member="Motion.h::GoToXY" ref="a689d7fe1ee4de9168f7ddbcab5845b31" args="(Int32 x, Int32 y, UInt32 speed)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GoToXY </td>
          <td>(</td>
          <td class="paramtype">Int32&nbsp;</td>
          <td class="paramname"> <em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Int32&nbsp;</td>
          <td class="paramname"> <em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UInt32&nbsp;</td>
          <td class="paramname"> <em>speed</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Go to [X,Y] at a specified speed from the origin of the robot. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>x</em>&nbsp;</td><td>X position in mm. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>y</em>&nbsp;</td><td>Y position in mm. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>speed</em>&nbsp;</td><td>Speed in mm/s (130 mm/s maximum). </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aaefd17cfdde4917c654c9c66d18426b8"></a><!-- doxytag: member="Motion.h::GoToXYRelative" ref="aaefd17cfdde4917c654c9c66d18426b8" args="(Int32 x, Int32 y, UInt32 speed)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GoToXYRelative </td>
          <td>(</td>
          <td class="paramtype">Int32&nbsp;</td>
          <td class="paramname"> <em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Int32&nbsp;</td>
          <td class="paramname"> <em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UInt32&nbsp;</td>
          <td class="paramname"> <em>speed</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Go to [X,Y] at a specified speed from the current position of robot. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>x</em>&nbsp;</td><td>X position in mm. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>y</em>&nbsp;</td><td>Y position in mm. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>speed</em>&nbsp;</td><td>Speed in mm/s (130 mm/s maximum). </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a3364476bc32eca1d0c34b1b512414cfe"></a><!-- doxytag: member="Motion.h::InitNewMovement" ref="a3364476bc32eca1d0c34b1b512414cfe" args="(UInt32 number, UInt32 speed)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void InitNewMovement </td>
          <td>(</td>
          <td class="paramtype">UInt32&nbsp;</td>
          <td class="paramname"> <em>number</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UInt32&nbsp;</td>
          <td class="paramname"> <em>speed</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Init a new wheel movement. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>number</em>&nbsp;</td><td>Number of wheel movement you want to do. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>speed</em>&nbsp;</td><td>Speed of all the movement (in mm/s, maximum 130 mm/s). </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a362633684b674702a423a639b56e73e2"></a><!-- doxytag: member="Motion.h::InitServoMotion" ref="a362633684b674702a423a639b56e73e2" args="(UInt8 number, UInt8 speed)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void InitServoMotion </td>
          <td>(</td>
          <td class="paramtype">UInt8&nbsp;</td>
          <td class="paramname"> <em>number</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UInt8&nbsp;</td>
          <td class="paramname"> <em>speed</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Init a servomotor motion. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>number</em>&nbsp;</td><td>Number of motion (maximum number 16). </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>speed</em>&nbsp;</td><td>Speed of motion (between 1 and 31).</td></tr>
  </table>
  </dd>
</dl>
<dl class="user"><dt><b>Servomotor motion example.</b></dt><dd></dd></dl>
<div class="fragment"><pre class="fragment"><span class="preprocessor">#include &lt;<a class="code" href="pob_robotic_suite_8h.html" title="General POB-Robotics-Suite include.">pobRoboticSuite.h</a>&gt;</span>

<a class="code" href="pob_robotic_suite_8h.html#ac31fdfeb4d7cc4531f30bc743d85526e">UInt16</a> motion0[SERVO_NUMBER] = {
    0,    0,      0,      0,   0,  0,  0,  0
};

<a class="code" href="pob_robotic_suite_8h.html#ac31fdfeb4d7cc4531f30bc743d85526e">UInt16</a> motion1[SERVO_NUMBER] = {
    0,    100,    100,    100, 0,   0,  0,  0
};

<a class="code" href="pob_robotic_suite_8h.html#ac31fdfeb4d7cc4531f30bc743d85526e">UInt16</a> motion2[SERVO_NUMBER] = {
    0,    250,    250,    250, 0,  0,  0,  0
};

<span class="keywordtype">int</span> main(<span class="keywordtype">void</span>)
{

    <span class="comment">// Init CPU:</span>
    <a class="code" href="pob_robotic_suite_8h.html#a9c7b6f7049447d5d9103ab928bdb4dd2" title="Initialize the microcontroller of the POB-Robotics-Suite.">InitCpu</a>();

    <span class="comment">// Init the communication between microcontrollers of the robot:</span>
    <a class="code" href="_sensor_8h.html#a43a000f01e2871fa6ce80b03d7fbb0bf" title="Initialize the hardware of the POB-Robotics-Suite.">InitRobot</a>();

    <span class="comment">// Init a motion with 3 motion with speed of 8:</span>
    <a class="code" href="_motion_8h.html#a362633684b674702a423a639b56e73e2" title="Init a servomotor motion.">InitServoMotion</a>(3,8);

    <span class="comment">// Add motion:</span>
    AddMotion(0,motion0);
    AddMotion(1,motion1);
    AddMotion(2,motion2);

    <span class="comment">// Play!</span>
    PlayMotion(0);

    <span class="keywordflow">while</span>(1)
    {
    }
}
</pre></div> 
</div>
</div>
<a class="anchor" id="ad1e9df5e9c05f92e3a359fa07bc9cb44"></a><!-- doxytag: member="Motion.h::PlayMovement" ref="ad1e9df5e9c05f92e3a359fa07bc9cb44" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PlayMovement </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Play the wheel movement. </p>
<p>All the movement added by AddXYMovement will be played. </p>

</div>
</div>
<a class="anchor" id="a67ba9b82d76ed24e94e6c91c6d782815"></a><!-- doxytag: member="Motion.h::PlayServoMotion" ref="a67ba9b82d76ed24e94e6c91c6d782815" args="(UInt8 inLoop)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PlayServoMotion </td>
          <td>(</td>
          <td class="paramtype">UInt8&nbsp;</td>
          <td class="paramname"> <em>inLoop</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Play the servomotor motion. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>inLoop</em>&nbsp;</td><td>0 stop at the end of motion, 1 to play in loop the motion. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a80baf95d9c090e33fa7a7f4faa0f659a"></a><!-- doxytag: member="Motion.h::ResetPosition" ref="a80baf95d9c090e33fa7a7f4faa0f659a" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ResetPosition </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Reset current position of robot. </p>

</div>
</div>
<a class="anchor" id="abc5a38af2f6fd07c1512d549e80e6591"></a><!-- doxytag: member="Motion.h::SetCoeffMove" ref="abc5a38af2f6fd07c1512d549e80e6591" args="(Int8 leftRot, Int8 leftTrans, Int8 rightRot, Int8 rightTrans)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SetCoeffMove </td>
          <td>(</td>
          <td class="paramtype">Int8&nbsp;</td>
          <td class="paramname"> <em>leftRot</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Int8&nbsp;</td>
          <td class="paramname"> <em>leftTrans</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Int8&nbsp;</td>
          <td class="paramname"> <em>rightRot</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Int8&nbsp;</td>
          <td class="paramname"> <em>rightTrans</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Set coefficient on movement (translation and rotation) This coefficient are set for the function GoToXY and DoRotation and can help the robot on ground. By default, coefficient are all egual to 1. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>leftRot</em>&nbsp;</td><td>Rotation coefficient on left wheel. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>leftTrans</em>&nbsp;</td><td>Translation coefficient on left wheel. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>rightRot</em>&nbsp;</td><td>Rotation coefficient on right wheel. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>rightTrans</em>&nbsp;</td><td>Translation coefficient on right wheel. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a62939566aeeeb9f20bc4618339a732fa"></a><!-- doxytag: member="Motion.h::SetMotor" ref="a62939566aeeeb9f20bc4618339a732fa" args="(Int16 wheelLeft, Int16 wheelRight)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SetMotor </td>
          <td>(</td>
          <td class="paramtype">Int16&nbsp;</td>
          <td class="paramname"> <em>wheelLeft</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Int16&nbsp;</td>
          <td class="paramname"> <em>wheelRight</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Set the direct current motor movement. </p>
<p>A negative value will turn wheel backward, a positive value will turn wheel forward. A zero value will stop the wheel.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>wheelLeft</em>&nbsp;</td><td>Speed of Wheel Left in mm/s (between -150 and 150). </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>wheelRight</em>&nbsp;</td><td>Speed of Wheel Right in mm/s (between -150 and 150). </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="adf160195c74e4e115770597429b2229a"></a><!-- doxytag: member="Motion.h::SetPwmMotor" ref="adf160195c74e4e115770597429b2229a" args="(Int16 wheelLeft, Int16 wheelRight)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SetPwmMotor </td>
          <td>(</td>
          <td class="paramtype">Int16&nbsp;</td>
          <td class="paramname"> <em>wheelLeft</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Int16&nbsp;</td>
          <td class="paramname"> <em>wheelRight</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Set the direct current motor movement with PWM values. </p>
<p>You control the direct current motor by his PWM values.</p>
<p>A negative value will turn wheel backward, a positive value will turn wheel forward. A zero value will stop the wheel.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>wheelLeft</em>&nbsp;</td><td>PWM Wheel Left: between -255 and 255. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>wheelRight</em>&nbsp;</td><td>PWM Wheel Right: between -255 and 255. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ae3dc18b01c2cb3c0e6641d9b28843d33"></a><!-- doxytag: member="Motion.h::SetServo" ref="ae3dc18b01c2cb3c0e6641d9b28843d33" args="(UInt8 servo, UInt16 position, UInt8 speed)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SetServo </td>
          <td>(</td>
          <td class="paramtype">UInt8&nbsp;</td>
          <td class="paramname"> <em>servo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UInt16&nbsp;</td>
          <td class="paramname"> <em>position</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UInt8&nbsp;</td>
          <td class="paramname"> <em>speed</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Set a servomotor at a specified position and speed. </p>
<p>If the servomotor is switch off, the servomotor start!</p>
<p>If you have configured the servomotor in degrees with SetServoUnit, then the position parameter is between 0 and 360 degrees.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>servo</em>&nbsp;</td><td>Servomotor identifier, between 1 and 8. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>position</em>&nbsp;</td><td>Position (between 0 and 255). </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>speed</em>&nbsp;</td><td>Speed (between 0 and 31). </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a473fda790d57598468d38c6abde3f64b"></a><!-- doxytag: member="Motion.h::SetServoUnit" ref="a473fda790d57598468d38c6abde3f64b" args="(ServoUnit unit)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SetServoUnit </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_motion_8h.html#a2bb38f81e0c68f262b42b229892694e0">ServoUnit</a>&nbsp;</td>
          <td class="paramname"> <em>unit</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Set unit of the servomotor's position. </p>
<p>If you set unit in SERVO_UNIT_DEGREES, then all the servomotor management is in degrees from 0 to 360.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>unit</em>&nbsp;</td><td>SERVO_UNIT_DEFAULT or SERVO_UNIT_DEGREES </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a659b8ff3622efe2bbccb0bbceb29bc9c"></a><!-- doxytag: member="Motion.h::StopMotor" ref="a659b8ff3622efe2bbccb0bbceb29bc9c" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void StopMotor </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Stop direct current motor. </p>

</div>
</div>
<a class="anchor" id="ad024147e507dffbf9a9eb4992472f5c5"></a><!-- doxytag: member="Motion.h::StopServoMotion" ref="ad024147e507dffbf9a9eb4992472f5c5" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void StopServoMotion </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Stop motion. </p>

</div>
</div>
<a class="anchor" id="a0f6ee2a6dde675c97288707e4a7a23ed"></a><!-- doxytag: member="Motion.h::SwitchOffAllServo" ref="a0f6ee2a6dde675c97288707e4a7a23ed" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SwitchOffAllServo </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Switch off all the servomotors. </p>

</div>
</div>
<a class="anchor" id="ae2b8d5bd40b4f30440f47dab6aab7947"></a><!-- doxytag: member="Motion.h::SwitchOffServo" ref="ae2b8d5bd40b4f30440f47dab6aab7947" args="(UInt8 servo)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SwitchOffServo </td>
          <td>(</td>
          <td class="paramtype">UInt8&nbsp;</td>
          <td class="paramname"> <em>servo</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Swith off a servomotor. </p>
<p>Servomotor power is switch off.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>servo</em>&nbsp;</td><td>Servomotor identifier. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aec59f9d2d1b9e1ccac0e43bf74299159"></a><!-- doxytag: member="Motion.h::SwitchOnAllServo" ref="aec59f9d2d1b9e1ccac0e43bf74299159" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SwitchOnAllServo </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Switch on all the servomotors. </p>

</div>
</div>
<a class="anchor" id="a595914c7bd98855bdeffcfa879c4d7f9"></a><!-- doxytag: member="Motion.h::SwitchOnServo" ref="a595914c7bd98855bdeffcfa879c4d7f9" args="(UInt8 servo)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SwitchOnServo </td>
          <td>(</td>
          <td class="paramtype">UInt8&nbsp;</td>
          <td class="paramname"> <em>servo</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Swith on a servomotor. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>servo</em>&nbsp;</td><td>Servomotor identifier. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div>
<!-- 
	Author : Baptiste Burles. POB-Technology
	Date : 10/10/2005
	
	This is the html footer for the Doxygen doc.
	
-->
<html>

<p>

<center>
	<hr size="1"><address style="align: right;"><small>Generated by&nbsp;
	<a href="http://www.doxygen.org/index.html">
	<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> </small></address>
	
	
	<address style="align: right;"><small>
	This is a documentation from 
	<a href="http://www.pob-technology.com">
	<img src="LOGO_POB.JPG" align="middle" border="0"></a> All rights reserved.
	</small></address>
	
</center>

</html>
